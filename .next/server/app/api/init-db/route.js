"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/init-db/route";
exports.ids = ["app/api/init-db/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Finit-db%2Froute&page=%2Fapi%2Finit-db%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Finit-db%2Froute.ts&appDir=C%3A%5Cgit%5CNetWORX%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cgit%5CNetWORX&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Finit-db%2Froute&page=%2Fapi%2Finit-db%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Finit-db%2Froute.ts&appDir=C%3A%5Cgit%5CNetWORX%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cgit%5CNetWORX&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_git_NetWORX_app_api_init_db_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/init-db/route.ts */ \"(rsc)/./app/api/init-db/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/init-db/route\",\n        pathname: \"/api/init-db\",\n        filename: \"route\",\n        bundlePath: \"app/api/init-db/route\"\n    },\n    resolvedPagePath: \"C:\\\\git\\\\NetWORX\\\\app\\\\api\\\\init-db\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_git_NetWORX_app_api_init_db_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/init-db/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZpbml0LWRiJTJGcm91dGUmcGFnZT0lMkZhcGklMkZpbml0LWRiJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGaW5pdC1kYiUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDZ2l0JTVDTmV0V09SWCU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q2dpdCU1Q05ldFdPUlgmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ0g7QUFDMUU7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXR3b3J4LWVzc2VudGlhbHMvP2UwMTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcZ2l0XFxcXE5ldFdPUlhcXFxcYXBwXFxcXGFwaVxcXFxpbml0LWRiXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9pbml0LWRiL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvaW5pdC1kYlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvaW5pdC1kYi9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXGdpdFxcXFxOZXRXT1JYXFxcXGFwcFxcXFxhcGlcXFxcaW5pdC1kYlxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvaW5pdC1kYi9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Finit-db%2Froute&page=%2Fapi%2Finit-db%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Finit-db%2Froute.ts&appDir=C%3A%5Cgit%5CNetWORX%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cgit%5CNetWORX&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/init-db/route.ts":
/*!**********************************!*\
  !*** ./app/api/init-db/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nasync function POST(request) {\n    try {\n        const { sql } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@neondatabase\"), __webpack_require__.e(\"_rsc_lib_database_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/database */ \"(rsc)/./lib/database.ts\"));\n        console.log(\"Initializing database schema...\");\n        // Set a shorter statement timeout for quicker feedback\n        await sql`SET statement_timeout = '30s'`;\n        // Create projects table if it doesn't exist\n        await sql`\n      CREATE TABLE IF NOT EXISTS projects (\n        id SERIAL PRIMARY KEY,\n        name VARCHAR(255) NOT NULL,\n        description TEXT,\n        status VARCHAR(50) DEFAULT 'active',\n        owner_id VARCHAR(255),\n        project_duration_years INTEGER DEFAULT 5,\n        base_year INTEGER DEFAULT EXTRACT(YEAR FROM CURRENT_DATE),\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `;\n        // Create scenarios table if it doesn't exist\n        await sql`\n      CREATE TABLE IF NOT EXISTS scenarios (\n        id SERIAL PRIMARY KEY,\n        name VARCHAR(255) NOT NULL,\n        description TEXT,\n        scenario_type VARCHAR(50) DEFAULT 'combined',\n        status VARCHAR(50) DEFAULT 'draft',\n        created_by VARCHAR(255),\n        metadata JSONB DEFAULT '{}',\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `;\n        // Check if project_id column exists in scenarios table\n        const columnCheck = await sql`\n      SELECT column_name\n      FROM information_schema.columns\n      WHERE table_name = 'scenarios' AND column_name = 'project_id'\n    `;\n        if (columnCheck.length === 0) {\n            console.log(\"Adding project_id column to scenarios table...\");\n            await sql`\n        ALTER TABLE scenarios\n        ADD COLUMN project_id INTEGER REFERENCES projects(id) ON DELETE CASCADE\n      `;\n        }\n        // Check and add missing columns for optimization tracking\n        const optimizationColumnCheck = await sql`\n      SELECT column_name\n      FROM information_schema.columns\n      WHERE table_name = 'scenarios'\n      AND column_name IN ('capacity_analysis_completed', 'transport_optimization_completed', 'warehouse_optimization_completed')\n    `;\n        const existingColumns = optimizationColumnCheck.map((row)=>row.column_name);\n        if (!existingColumns.includes(\"capacity_analysis_completed\")) {\n            console.log(\"Adding capacity_analysis_completed column to scenarios table...\");\n            await sql`\n        ALTER TABLE scenarios\n        ADD COLUMN capacity_analysis_completed BOOLEAN DEFAULT false\n      `;\n        }\n        if (!existingColumns.includes(\"transport_optimization_completed\")) {\n            console.log(\"Adding transport_optimization_completed column to scenarios table...\");\n            await sql`\n        ALTER TABLE scenarios\n        ADD COLUMN transport_optimization_completed BOOLEAN DEFAULT false\n      `;\n        }\n        if (!existingColumns.includes(\"warehouse_optimization_completed\")) {\n            console.log(\"Adding warehouse_optimization_completed column to scenarios table...\");\n            await sql`\n        ALTER TABLE scenarios\n        ADD COLUMN warehouse_optimization_completed BOOLEAN DEFAULT false\n      `;\n        }\n        // Verify tables exist\n        const tableCheck = await sql`\n      SELECT table_name \n      FROM information_schema.tables \n      WHERE table_schema = 'public' AND table_name IN ('projects', 'scenarios')\n    `;\n        const projectCount = await sql`SELECT COUNT(*) as count FROM projects`;\n        const scenarioCount = await sql`SELECT COUNT(*) as count FROM scenarios`;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Database initialized successfully\",\n            tables_created: tableCheck.map((t)=>t.table_name),\n            stats: {\n                projects: projectCount[0].count,\n                scenarios: scenarioCount[0].count\n            }\n        });\n    } catch (error) {\n        console.error(\"Database initialization failed:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: `Database initialization failed: ${error instanceof Error ? error.message : \"Unknown error\"}`\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        const { sql } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@neondatabase\"), __webpack_require__.e(\"_rsc_lib_database_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/database */ \"(rsc)/./lib/database.ts\"));\n        // Set a shorter statement timeout for quicker feedback\n        await sql`SET statement_timeout = '30s'`;\n        // Check current database schema\n        const tables = await sql`\n      SELECT table_name, column_name, data_type \n      FROM information_schema.columns \n      WHERE table_schema = 'public' AND table_name IN ('projects', 'scenarios')\n      ORDER BY table_name, ordinal_position\n    `;\n        const tableStructure = {};\n        tables.forEach((row)=>{\n            if (!tableStructure[row.table_name]) {\n                tableStructure[row.table_name] = [];\n            }\n            tableStructure[row.table_name].push({\n                column: row.column_name,\n                type: row.data_type\n            });\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            database_schema: tableStructure\n        });\n    } catch (error) {\n        console.error(\"Failed to check database schema:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: `Failed to check database schema: ${error instanceof Error ? error.message : \"Unknown error\"}`\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNyQixJQUFJVyxVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ3JDO1lBQ0FVLGNBQWMsQ0FBQ3JCLElBQUlXLFVBQVUsQ0FBQyxDQUFDWSxJQUFJLENBQUM7Z0JBQ2xDQyxRQUFReEIsSUFBSUMsV0FBVztnQkFDdkJ3QixNQUFNekIsSUFBSTBCLFNBQVM7WUFDckI7UUFDRjtRQUVBLE9BQU9yQyxxREFBWUEsQ0FBQ2lCLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUb0IsaUJBQWlCTjtRQUNuQjtJQUNGLEVBQUUsT0FBT0wsT0FBTztRQUNkdkIsUUFBUXVCLEtBQUssQ0FBQyxvQ0FBb0NBO1FBQ2xELE9BQU8zQixxREFBWUEsQ0FBQ2lCLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUUyxPQUFPLENBQUMsaUNBQWlDLEVBQUVBLGlCQUFpQkMsUUFBUUQsTUFBTVIsT0FBTyxHQUFHLGdCQUFnQixDQUFDO1FBQ3ZHLEdBQUc7WUFBRVUsUUFBUTtRQUFJO0lBQ25CO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXR3b3J4LWVzc2VudGlhbHMvLi9hcHAvYXBpL2luaXQtZGIvcm91dGUudHM/YjEyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc3FsIH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL2RhdGFiYXNlJyk7XG5cbiAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIGRhdGFiYXNlIHNjaGVtYS4uLicpO1xuXG4gICAgLy8gU2V0IGEgc2hvcnRlciBzdGF0ZW1lbnQgdGltZW91dCBmb3IgcXVpY2tlciBmZWVkYmFja1xuICAgIGF3YWl0IHNxbGBTRVQgc3RhdGVtZW50X3RpbWVvdXQgPSAnMzBzJ2A7XG5cbiAgICAvLyBDcmVhdGUgcHJvamVjdHMgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIGF3YWl0IHNxbGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHByb2plY3RzIChcbiAgICAgICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxuICAgICAgICBuYW1lIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgZGVzY3JpcHRpb24gVEVYVCxcbiAgICAgICAgc3RhdHVzIFZBUkNIQVIoNTApIERFRkFVTFQgJ2FjdGl2ZScsXG4gICAgICAgIG93bmVyX2lkIFZBUkNIQVIoMjU1KSxcbiAgICAgICAgcHJvamVjdF9kdXJhdGlvbl95ZWFycyBJTlRFR0VSIERFRkFVTFQgNSxcbiAgICAgICAgYmFzZV95ZWFyIElOVEVHRVIgREVGQVVMVCBFWFRSQUNUKFlFQVIgRlJPTSBDVVJSRU5UX0RBVEUpLFxuICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxuICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXG4gICAgICApXG4gICAgYDtcbiAgICBcbiAgICAvLyBDcmVhdGUgc2NlbmFyaW9zIHRhYmxlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBhd2FpdCBzcWxgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzY2VuYXJpb3MgKFxuICAgICAgICBpZCBTRVJJQUwgUFJJTUFSWSBLRVksXG4gICAgICAgIG5hbWUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICBkZXNjcmlwdGlvbiBURVhULFxuICAgICAgICBzY2VuYXJpb190eXBlIFZBUkNIQVIoNTApIERFRkFVTFQgJ2NvbWJpbmVkJyxcbiAgICAgICAgc3RhdHVzIFZBUkNIQVIoNTApIERFRkFVTFQgJ2RyYWZ0JyxcbiAgICAgICAgY3JlYXRlZF9ieSBWQVJDSEFSKDI1NSksXG4gICAgICAgIG1ldGFkYXRhIEpTT05CIERFRkFVTFQgJ3t9JyxcbiAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgdXBkYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgKVxuICAgIGA7XG5cbiAgICAvLyBDaGVjayBpZiBwcm9qZWN0X2lkIGNvbHVtbiBleGlzdHMgaW4gc2NlbmFyaW9zIHRhYmxlXG4gICAgY29uc3QgY29sdW1uQ2hlY2sgPSBhd2FpdCBzcWxgXG4gICAgICBTRUxFQ1QgY29sdW1uX25hbWVcbiAgICAgIEZST00gaW5mb3JtYXRpb25fc2NoZW1hLmNvbHVtbnNcbiAgICAgIFdIRVJFIHRhYmxlX25hbWUgPSAnc2NlbmFyaW9zJyBBTkQgY29sdW1uX25hbWUgPSAncHJvamVjdF9pZCdcbiAgICBgO1xuXG4gICAgaWYgKGNvbHVtbkNoZWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coJ0FkZGluZyBwcm9qZWN0X2lkIGNvbHVtbiB0byBzY2VuYXJpb3MgdGFibGUuLi4nKTtcbiAgICAgIGF3YWl0IHNxbGBcbiAgICAgICAgQUxURVIgVEFCTEUgc2NlbmFyaW9zXG4gICAgICAgIEFERCBDT0xVTU4gcHJvamVjdF9pZCBJTlRFR0VSIFJFRkVSRU5DRVMgcHJvamVjdHMoaWQpIE9OIERFTEVURSBDQVNDQURFXG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGFuZCBhZGQgbWlzc2luZyBjb2x1bW5zIGZvciBvcHRpbWl6YXRpb24gdHJhY2tpbmdcbiAgICBjb25zdCBvcHRpbWl6YXRpb25Db2x1bW5DaGVjayA9IGF3YWl0IHNxbGBcbiAgICAgIFNFTEVDVCBjb2x1bW5fbmFtZVxuICAgICAgRlJPTSBpbmZvcm1hdGlvbl9zY2hlbWEuY29sdW1uc1xuICAgICAgV0hFUkUgdGFibGVfbmFtZSA9ICdzY2VuYXJpb3MnXG4gICAgICBBTkQgY29sdW1uX25hbWUgSU4gKCdjYXBhY2l0eV9hbmFseXNpc19jb21wbGV0ZWQnLCAndHJhbnNwb3J0X29wdGltaXphdGlvbl9jb21wbGV0ZWQnLCAnd2FyZWhvdXNlX29wdGltaXphdGlvbl9jb21wbGV0ZWQnKVxuICAgIGA7XG5cbiAgICBjb25zdCBleGlzdGluZ0NvbHVtbnMgPSBvcHRpbWl6YXRpb25Db2x1bW5DaGVjay5tYXAoKHJvdzogYW55KSA9PiByb3cuY29sdW1uX25hbWUpO1xuXG4gICAgaWYgKCFleGlzdGluZ0NvbHVtbnMuaW5jbHVkZXMoJ2NhcGFjaXR5X2FuYWx5c2lzX2NvbXBsZXRlZCcpKSB7XG4gICAgICBjb25zb2xlLmxvZygnQWRkaW5nIGNhcGFjaXR5X2FuYWx5c2lzX2NvbXBsZXRlZCBjb2x1bW4gdG8gc2NlbmFyaW9zIHRhYmxlLi4uJyk7XG4gICAgICBhd2FpdCBzcWxgXG4gICAgICAgIEFMVEVSIFRBQkxFIHNjZW5hcmlvc1xuICAgICAgICBBREQgQ09MVU1OIGNhcGFjaXR5X2FuYWx5c2lzX2NvbXBsZXRlZCBCT09MRUFOIERFRkFVTFQgZmFsc2VcbiAgICAgIGA7XG4gICAgfVxuXG4gICAgaWYgKCFleGlzdGluZ0NvbHVtbnMuaW5jbHVkZXMoJ3RyYW5zcG9ydF9vcHRpbWl6YXRpb25fY29tcGxldGVkJykpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgdHJhbnNwb3J0X29wdGltaXphdGlvbl9jb21wbGV0ZWQgY29sdW1uIHRvIHNjZW5hcmlvcyB0YWJsZS4uLicpO1xuICAgICAgYXdhaXQgc3FsYFxuICAgICAgICBBTFRFUiBUQUJMRSBzY2VuYXJpb3NcbiAgICAgICAgQUREIENPTFVNTiB0cmFuc3BvcnRfb3B0aW1pemF0aW9uX2NvbXBsZXRlZCBCT09MRUFOIERFRkFVTFQgZmFsc2VcbiAgICAgIGA7XG4gICAgfVxuXG4gICAgaWYgKCFleGlzdGluZ0NvbHVtbnMuaW5jbHVkZXMoJ3dhcmVob3VzZV9vcHRpbWl6YXRpb25fY29tcGxldGVkJykpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgd2FyZWhvdXNlX29wdGltaXphdGlvbl9jb21wbGV0ZWQgY29sdW1uIHRvIHNjZW5hcmlvcyB0YWJsZS4uLicpO1xuICAgICAgYXdhaXQgc3FsYFxuICAgICAgICBBTFRFUiBUQUJMRSBzY2VuYXJpb3NcbiAgICAgICAgQUREIENPTFVNTiB3YXJlaG91c2Vfb3B0aW1pemF0aW9uX2NvbXBsZXRlZCBCT09MRUFOIERFRkFVTFQgZmFsc2VcbiAgICAgIGA7XG4gICAgfVxuXG4gICAgLy8gVmVyaWZ5IHRhYmxlcyBleGlzdFxuICAgIGNvbnN0IHRhYmxlQ2hlY2sgPSBhd2FpdCBzcWxgXG4gICAgICBTRUxFQ1QgdGFibGVfbmFtZSBcbiAgICAgIEZST00gaW5mb3JtYXRpb25fc2NoZW1hLnRhYmxlcyBcbiAgICAgIFdIRVJFIHRhYmxlX3NjaGVtYSA9ICdwdWJsaWMnIEFORCB0YWJsZV9uYW1lIElOICgncHJvamVjdHMnLCAnc2NlbmFyaW9zJylcbiAgICBgO1xuXG4gICAgY29uc3QgcHJvamVjdENvdW50ID0gYXdhaXQgc3FsYFNFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHByb2plY3RzYDtcbiAgICBjb25zdCBzY2VuYXJpb0NvdW50ID0gYXdhaXQgc3FsYFNFTEVDVCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIHNjZW5hcmlvc2A7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknLFxuICAgICAgdGFibGVzX2NyZWF0ZWQ6IHRhYmxlQ2hlY2subWFwKHQgPT4gdC50YWJsZV9uYW1lKSxcbiAgICAgIHN0YXRzOiB7XG4gICAgICAgIHByb2plY3RzOiBwcm9qZWN0Q291bnRbMF0uY291bnQsXG4gICAgICAgIHNjZW5hcmlvczogc2NlbmFyaW9Db3VudFswXS5jb3VudFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIGluaXRpYWxpemF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGBEYXRhYmFzZSBpbml0aWFsaXphdGlvbiBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YFxuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc3FsIH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL2RhdGFiYXNlJyk7XG5cbiAgICAvLyBTZXQgYSBzaG9ydGVyIHN0YXRlbWVudCB0aW1lb3V0IGZvciBxdWlja2VyIGZlZWRiYWNrXG4gICAgYXdhaXQgc3FsYFNFVCBzdGF0ZW1lbnRfdGltZW91dCA9ICczMHMnYDtcblxuICAgIC8vIENoZWNrIGN1cnJlbnQgZGF0YWJhc2Ugc2NoZW1hXG4gICAgY29uc3QgdGFibGVzID0gYXdhaXQgc3FsYFxuICAgICAgU0VMRUNUIHRhYmxlX25hbWUsIGNvbHVtbl9uYW1lLCBkYXRhX3R5cGUgXG4gICAgICBGUk9NIGluZm9ybWF0aW9uX3NjaGVtYS5jb2x1bW5zIFxuICAgICAgV0hFUkUgdGFibGVfc2NoZW1hID0gJ3B1YmxpYycgQU5EIHRhYmxlX25hbWUgSU4gKCdwcm9qZWN0cycsICdzY2VuYXJpb3MnKVxuICAgICAgT1JERVIgQlkgdGFibGVfbmFtZSwgb3JkaW5hbF9wb3NpdGlvblxuICAgIGA7XG5cbiAgICBjb25zdCB0YWJsZVN0cnVjdHVyZTogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9ID0ge307XG4gICAgdGFibGVzLmZvckVhY2gocm93ID0+IHtcbiAgICAgIGlmICghdGFibGVTdHJ1Y3R1cmVbcm93LnRhYmxlX25hbWVdKSB7XG4gICAgICAgIHRhYmxlU3RydWN0dXJlW3Jvdy50YWJsZV9uYW1lXSA9IFtdO1xuICAgICAgfVxuICAgICAgdGFibGVTdHJ1Y3R1cmVbcm93LnRhYmxlX25hbWVdLnB1c2goe1xuICAgICAgICBjb2x1bW46IHJvdy5jb2x1bW5fbmFtZSxcbiAgICAgICAgdHlwZTogcm93LmRhdGFfdHlwZVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGFiYXNlX3NjaGVtYTogdGFibGVTdHJ1Y3R1cmVcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2hlY2sgZGF0YWJhc2Ugc2NoZW1hOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogYEZhaWxlZCB0byBjaGVjayBkYXRhYmFzZSBzY2hlbWE6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YFxuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJQT1NUIiwicmVxdWVzdCIsInNxbCIsImNvbnNvbGUiLCJsb2ciLCJjb2x1bW5DaGVjayIsImxlbmd0aCIsIm9wdGltaXphdGlvbkNvbHVtbkNoZWNrIiwiZXhpc3RpbmdDb2x1bW5zIiwibWFwIiwicm93IiwiY29sdW1uX25hbWUiLCJpbmNsdWRlcyIsInRhYmxlQ2hlY2siLCJwcm9qZWN0Q291bnQiLCJzY2VuYXJpb0NvdW50IiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwidGFibGVzX2NyZWF0ZWQiLCJ0IiwidGFibGVfbmFtZSIsInN0YXRzIiwicHJvamVjdHMiLCJjb3VudCIsInNjZW5hcmlvcyIsImVycm9yIiwiRXJyb3IiLCJzdGF0dXMiLCJHRVQiLCJ0YWJsZXMiLCJ0YWJsZVN0cnVjdHVyZSIsImZvckVhY2giLCJwdXNoIiwiY29sdW1uIiwidHlwZSIsImRhdGFfdHlwZSIsImRhdGFiYXNlX3NjaGVtYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/init-db/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Finit-db%2Froute&page=%2Fapi%2Finit-db%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Finit-db%2Froute.ts&appDir=C%3A%5Cgit%5CNetWORX%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cgit%5CNetWORX&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();